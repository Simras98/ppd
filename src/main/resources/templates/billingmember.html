<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Required meta tags -->
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <!-- Bootstrap CSS -->
    <link
            crossorigin="anonymous"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
            integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
            rel="stylesheet"
    />
    <title>Paiement</title>
</head>
<body>
<div th:insert="fragments/navbar.html :: navbar"></div>
<div>
    <h1>Paiement</h1>
    <p th:text="${error}"></p>
    <form action="/billingconfirm" id="billingConfirm" method="post">
        <div id="price1">
            <p>Abonnement 1 mois</p>
            <p th:text="${session.subscription.association.price1Month}"></p>
            <input id="month1" name="duration" value="1" checked type="radio">
        </div>
        <div id="price3">
            <p>Abonnement 3 mois</p>
            <p th:text="${session.subscription.association.price3Months}"></p>
            <input id="month3" name="duration" value="3" type="radio">
        </div>
        <div id="price12">
            <p>Abonnement 12 mois</p>
            <p th:text="${session.subscription.association.price12Months}"></p>
            <input id="month12" name="duration" value="12" type="radio">
        </div>
        <div>
            <label for="creditCard">Numéro de carte bancaire</label>
            <input id="creditCard" name="creditCard"
                   pattern="^(?:4[0-9]{12}(?:[0-9]{3})?|(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12})$"
                   placeholder="Entrez votre numéro de carte bancaire"
                   required type="text">
        </div>
        <div>
            <label for="expirationDate">Date d'expiration</label>
            <input id="expirationDate" name="expirationDate" pattern="[0-9]{2}/[0-9]{2}"
                   placeholder="Entrez votre date d'expiration de carte au format MM/AA" required
                   type="text">
        </div>
        <div>
            <label for="cryptogram">Cryptogramme</label>
            <input id="cryptogram" name="cryptogram" pattern="[0-9]{3}" placeholder="Entrez votre cryptogramme de carte"
                   required type="text">
        </div>
        <div>
            <label for="name">Nom</label>
            <input id="name" name="name" placeholder="Entrez le nom présent sur la carte bancaire"
                   required type="text">
        </div>
        <input type="submit" value="Procéder au paiement">
    </form>
    <form action="/billingskip" method="post">
        <input th:disabled="${session.subscription.delayed}" type="submit" value="Effectuer le paiement plus tard">
    </form>
</div>
</body>
</html>